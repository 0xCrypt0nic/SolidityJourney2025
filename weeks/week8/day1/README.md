## Week8, Day 1: Explore web3.js for Frontend-Blockchain Integration

**Goal**: Understand web3.js basics to connect a frontend to smart contracts, setting up a simple HTML page to interact with the TokenInteractor from Week 7.

### web3.js Documentation

**Read web3.js Docs**:

- Visit [web3.js - Getting Started](https://web3js.readthedocs.io/en/v1.10.0/getting-started.html) and study:
  - **web3.js**: JavaScript library to interact with Ethereum (e.g., send transactions, call functions).
  - **Provider**: Connect to Ethereum node (e.g., MetaMask via `window.ethereum`).
  - **Contract**: Create contract instance with ABI and address (e.g., `new web3.eth.Contract(ABI, address)`).
  - **Methods**:
    - `call`: Read contract functions (e.g., `getTokenBalance`).
    - `send`: Write to contract (e.g., `transferToken`).
- Key points:
  - Install: `npm install web3`.
  - MetaMask integration: `const web3 = new Web3(window.ethereum)`.
  - ABI: Contract's function signatures (generated by Hardhat or Remix).
- Example basic setup:

  ```
  const Web3 = require('web3');
  const web3 = new Web3(window.ethereum);

  const ABI = [ /* ABI from Hardhat or Remix */ ];
  const contract = new web3.eth.Contract(ABI, '0xContractAddress');

  async function getBalance() {
      const accounts = await web3.eth.requestAccounts();
      const balance = await contract.methods.getTokenBalance(accounts[0]).call();
      console.log(balance);
  }
  ```

### Practice in HTML/JS

**Create Basic Frontend**:

- Create a simple `index.html` file in `/week8/frontend/`:

  ```
  <!DOCTYPE html>
  <html>
  <head>
      <title>Token Interactor Frontend</title>
      <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
  </head>
  <body>
      <button id="connect">Connect MetaMask</button>
      <button id="getBalance">Get Token Balance</button>
      <button id="transfer">Transfer 50 GROK</button>
      <p id="result"></p>

      <script>
          let web3;
          let contract;
          const tokenInteractorAddress = '0xYOUR_TOKEN_INTERACTOR_ADDRESS'; // From Week 7
          const ABI = [ /* ABI from Hardhat or Remix */ ];

          document.getElementById('connect').onclick = async () => {
              if (window.ethereum) {
                  web3 = new Web3(window.ethereum);
                  await window.ethereum.request({ method: 'eth_requestAccounts' });
                  contract = new web3.eth.Contract(ABI, tokenInteractorAddress);
                  document.getElementById('result').innerHTML = 'Connected!';
              } else {
                  document.getElementById('result').innerHTML = 'MetaMask not found!';
              }
          };

          document.getElementById('getBalance').onclick = async () => {
              if (contract) {
                  const accounts = await web3.eth.getAccounts();
                  const balance = await contract.methods.getTokenBalance(accounts[0]).call();
                  document.getElementById('result').innerHTML = `Balance: ${web3.utils.fromWei(balance, 'ether')} GROK`;
              }
          };

          document.getElementById('transfer').onclick = async () => {
              if (contract) {
                  const accounts = await web3.eth.getAccounts();
                  const amount = web3.utils.toWei('50', 'ether');
                  await contract.methods.transferToken(accounts[0], amount).send({ from: accounts[0] });
                  document.getElementById('result').innerHTML = 'Transfer successful!';
              }
          };
      </script>
  </body>
  </html>
  ```

- **Key points**:
  - Connect MetaMask with `window.ethereum`.
  - Create contract instance with ABI and address.
  - Use `.call()` for read functions (`getTokenBalance`).
  - Use `.send()` for write functions (`transferToken`).
- **Test Locally**:
  - Open `index.html` in a browser with MetaMask on Sepolia.
  - Click "Connect MetaMask" (authorizes the site).
  - Click "Get Token Balance" (displays your GROK balance).
  - Click "Transfer 50 GROK" (transfers to your own address for testing; approve in MetaMask).
- **Troubleshooting**:
  - "MetaMask not found"? Install MetaMask extension.
  - "ABI not found"? Copy ABI from Hardhat (`artifacts/contracts/TokenInteractor.sol/TokenInteractor.json`) or Remix.
  - "Provider not connected"? Switch MetaMask to Sepolia.
- Take a screenshot of the frontend showing connected MetaMask or balance display.
